import{g as r,n as i,j as t}from"./CQA7Wwdt.js";import{u as n}from"./1FD5UGhk.js";import"./BD3EHYnG.js";import"./DzHiA6Ss.js";const u={"/":["view_dashboard"],"/novaEntrada":["manage_colaboradores"],"/dashboard":["view_dashboard"],"/relatorios":["view_reports"],"/configuracoes":["manage_system"],"/admin":["manage_system","manage_users"]},h=r(s=>{if(console.log("ğŸ›¡ï¸ Middleware authorization executado para:",s.path),typeof window<"u"){const o=u[s.path]||[];if(o.length===0){console.log("âœ… Rota nÃ£o requer permissÃµes especiais");return}const e=n();if(!e.isAuthenticated)return console.log("âŒ UsuÃ¡rio nÃ£o autenticado"),i("/login");if(!o.some(a=>e.hasPermission(a)))throw console.log("âŒ UsuÃ¡rio nÃ£o tem permissÃµes necessÃ¡rias:",o),console.log("ğŸ”‘ Role do usuÃ¡rio:",e.userRole),t({statusCode:403,statusMessage:"Acesso negado - PermissÃµes insuficientes"});console.log("âœ… UsuÃ¡rio autorizado para acessar a rota")}});export{h as default};
