const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./QqFjWtVv.js","./CQA7Wwdt.js","./BD3EHYnG.js","./entry.DFWob924.css"])))=>i.map(i=>d[i]);
import{c as ve,b as rt,u as nt,f as Pe}from"./CQA7Wwdt.js";import{U as o,$ as i,a3 as r,I as Fe,b as S,E as ot,w as qe,a4 as _,ac as M,V as it,X as re,P as we,a5 as oe,a7 as H,W as de,ad as D,ae as L,N as lt,ab as ut,aa as dt,c as Se,a6 as je,ah as _e,af as ct,n as Ke}from"./BD3EHYnG.js";import{u as pt,a as vt,r as mt}from"./CW0Jp0j1.js";import{l as j,h as ee}from"./DzHiA6Ss.js";function xt(P,z){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}const ft=()=>{const P=ve(),z=async()=>{try{j.debug("üß™ Testando conex√£o com Supabase (SFL)...");const{data:d,error:u}=await P.from("colaboradoressfl").select("count",{count:"exact",head:!0});return j.debug("üß™ Teste de conectividade SFL - Data:",d),j.debug("üß™ Teste de conectividade SFL - Error:",u),{success:!u,error:u}}catch(d){return j.error("üß™ Erro no teste de conectividade SFL:",d),{success:!1,error:d}}},E=S([]),k=S(!1),h=S(null),ie=async d=>{try{j.info("üîç Iniciando busca de colaboradores SFL..."),await z(),k.value=!0,h.value=null;let u=P.from("colaboradoressfl").select("*").order("nome",{ascending:!0});d&&(j.debug("üîé Aplicando filtros:",d),d.matricula&&(u=u.eq("matricula",d.matricula)),d.nome&&(u=u.ilike("nome",`%${d.nome}%`)),d.funcao&&(u=u.ilike("funcao",`%${d.funcao}%`)),d.filial&&(u=u.ilike("filial",`%${d.filial}%`))),j.debug("üì° Fazendo requisi√ß√£o para Supabase (SFL)...");const{data:p,error:C}=await u;if(C){const $=ee(C,"useColaboradoresSFL.buscarColaboradoresSFL");throw h.value=$.userMessage,new Error($.userMessage)}return E.value=p||[],j.success("Colaboradores SFL carregados",`${E.value.length} registros`),p||[]}catch(u){const p=ee(u,"useColaboradoresSFL.buscarColaboradoresSFL");throw h.value=p.userMessage,u}finally{k.value=!1}},le=async d=>{try{k.value=!0,h.value=null;const{data:u,error:p}=await P.from("colaboradoressfl").select("*").eq("id",d).single();if(p){const C=ee(p,"useColaboradoresSFL.buscarColaboradorPorId");throw h.value=C.userMessage,new Error(C.userMessage)}return u}catch(u){const p=ee(u,"useColaboradoresSFL.buscarColaboradorPorId");throw h.value=p.userMessage,u}finally{k.value=!1}},q=async d=>{try{k.value=!0,h.value=null;const{data:u,error:p}=await P.from("colaboradoressfl").select("*").eq("matricula",d).single();if(p)throw new Error(p.message);return u}catch(u){const p=u instanceof Error?u.message:"Erro ao buscar colaborador SFL por matr√≠cula";throw h.value=p,console.error("Erro ao buscar colaborador SFL por matr√≠cula:",u),u}finally{k.value=!1}},x=async(d,u)=>{try{k.value=!0,h.value=null,console.log("üìù Atualizando colaborador SFL:",d,u);const{data:p,error:C}=await P.from("colaboradoressfl").update(u).eq("id",d).select().single();if(C)throw new Error(C.message);const $=E.value.findIndex(N=>N.id===d);return $!==-1&&(E.value[$]=p),console.log("‚úÖ Colaborador SFL atualizado:",p),p}catch(p){const C=p instanceof Error?p.message:"Erro ao atualizar colaborador SFL";throw h.value=C,console.error("Erro ao atualizar colaborador SFL:",p),p}finally{k.value=!1}},v=async d=>{try{k.value=!0,h.value=null,console.log("‚ûï Criando novo colaborador SFL:",d);const{data:u,error:p}=await P.from("colaboradoressfl").insert([d]).select().single();if(p)throw console.error("Erro do Supabase:",p),new Error(`Erro ao criar colaborador SFL: ${p.message}`);return console.log("‚úÖ Colaborador SFL criado:",u),await ie(),u}catch(u){const p=u instanceof Error?u.message:"Erro ao criar colaborador SFL";throw h.value=p,console.error("Erro ao criar colaborador SFL:",u),u}finally{k.value=!1}},m=async(d,u)=>{try{k.value=!0,h.value=null;let p=E.value.find(W=>W.nome?.toLowerCase().trim()===d.toLowerCase().trim());p||(p=await v({nome:d.trim(),funcao:u?.trim()||"N√£o informado"}));let C=null;for(let W=1;W<=5;W++){const te=`ent${W}`,Ce=`sai${W}`;if(!p[te]||!p[Ce]){C=W;break}}if(!C)throw new Error("Colaborador SFL j√° tem 5 movimenta√ß√µes registradas hoje");const $=new Date,N={[`ent${C}`]:$.toISOString()};return await x(p.id,N),console.log(`‚úÖ Entrada SFL registrada para ${d} no slot ${C}`),{colaborador:p,slot:C}}catch(p){const C=p instanceof Error?p.message:"Erro ao registrar entrada SFL";throw h.value=C,console.error("Erro ao registrar entrada SFL:",p),p}finally{k.value=!1}},n=async d=>{try{k.value=!0,h.value=null;const u=E.value.find(N=>N.id===d);if(!u)throw new Error("Colaborador SFL n√£o encontrado");let p=null;for(let N=5;N>=1;N--){const W=`ent${N}`,te=`sai${N}`;if(u[W]&&!u[te]){p=N;break}}if(!p)throw new Error("Colaborador SFL n√£o tem entrada sem sa√≠da correspondente");const C=new Date,$={[`sai${p}`]:C.toISOString()};return await x(d,$),console.log(`‚úÖ Sa√≠da SFL registrada para ${u.nome} no slot ${p}`),{colaborador:u,slot:p}}catch(u){const p=u instanceof Error?u.message:"Erro ao registrar sa√≠da SFL";throw h.value=p,console.error("Erro ao registrar sa√≠da SFL:",u),u}finally{k.value=!1}};return{colaboradoresSFL:Fe(E),loading:Fe(k),error:Fe(h),buscarColaboradoresSFL:ie,buscarColaboradorPorId:le,buscarColaboradorPorMatricula:q,atualizarColaborador:x,criarColaborador:v,registrarEntrada:m,registrarSaida:n,testarConexao:z}},yt=()=>{const z=ve(),E=S([]),k=S(!1),h=S(null);return{transportadoras:E,loading:k,error:h,buscarTransportadoras:async x=>{try{j.info("üîç Iniciando busca de transportadoras..."),k.value=!0,h.value=null;let v=z.from("colaboradorestransp").select("*").order("nome",{ascending:!0});x&&(j.debug("üîé Aplicando filtros:",x),x.nome&&(v=v.ilike("nome",`%${x.nome}%`)),x.funcao&&(v=v.ilike("funcao",`%${x.funcao}%`))),j.debug("üì° Fazendo requisi√ß√£o para Supabase...");const{data:m,error:n}=await v;if(n){const d=ee(n,"useTransportadoras.buscarTransportadoras");throw h.value=d.userMessage,new Error(d.userMessage)}return E.value=m||[],j.success("Transportadoras carregadas",`${E.value.length} registros`),m||[]}catch(v){const m=ee(v,"useTransportadoras.buscarTransportadoras");throw h.value=m.userMessage,v}finally{k.value=!1}},atualizarTransportadora:async(x,v)=>{try{j.info(`üìù Atualizando transportadora ID: ${x}`,v),k.value=!0,h.value=null;const{data:m,error:n}=await z.from("colaboradorestransp").update(v).eq("id",x).select().single();if(n){const u=ee(n,"useTransportadoras.atualizarTransportadora");throw h.value=u.userMessage,new Error(u.userMessage)}const d=E.value.findIndex(u=>u.id===x);return d!==-1&&(E.value[d]=m),j.success("Transportadora atualizada",`ID: ${x}`),m}catch(m){const n=ee(m,"useTransportadoras.atualizarTransportadora");throw h.value=n.userMessage,m}finally{k.value=!1}},criarTransportadora:async x=>{try{j.info("‚ûï Criando nova transportadora:",x),k.value=!0,h.value=null;const{data:v,error:m}=await z.from("colaboradorestransp").insert(x).select().single();if(m){const n=ee(m,"useTransportadoras.criarTransportadora");throw h.value=n.userMessage,new Error(n.userMessage)}return E.value.push(v),j.success("Transportadora criada",`ID: ${v.id}`),v}catch(v){const m=ee(v,"useTransportadoras.criarTransportadora");throw h.value=m.userMessage,v}finally{k.value=!1}}}},gt=()=>{const P=ve(),z=ve(),E=()=>!P||!z?(console.warn("‚ö†Ô∏è Cliente Supabase n√£o dispon√≠vel - aguardando inicializa√ß√£o"),!1):!0,k=async(v,m,n="principal")=>{try{if(!E())return{historico:null,error:new Error("Cliente Supabase n√£o dispon√≠vel")};console.log(`üîç Buscando hist√≥rico - Colaborador: ${v}, Data: ${m}, Origem: ${n}`);const{data:d,error:u}=await z.from("colaboradores_historico").select("*").eq("colaborador_id",v).eq("data_registro",m).eq("origem",n).single();if(u&&u.code!=="PGRST116")throw console.error("‚ùå Erro ao buscar hist√≥rico:",u),u;return d?console.log("‚úÖ Hist√≥rico encontrado:",d):console.log("‚ö™ Nenhum hist√≥rico encontrado para esta data"),{historico:d,error:null}}catch(d){return console.error("‚ùå Erro no buscarHistoricoPorData:",d),{historico:null,error:d}}};return{buscarHistoricoPorData:k,salvarHistorico:async(v,m,n,d="principal")=>{try{if(!E())return{data:null,error:new Error("Cliente Supabase n√£o dispon√≠vel")};console.log("üíæ Salvando hist√≥rico - Colaborador:",v,"Data:",m,"Origem:",d);const{historico:u}=await k(v,m,d),p={...n,matricula:n.matricula?.toString()||null};if(u){console.log("üìù Atualizando hist√≥rico existente...");const{data:C,error:$}=await z.from("colaboradores_historico").update({...p,updated_at:new Date().toISOString()}).eq("id",u.id).select();if($)throw console.error("‚ùå Erro ao atualizar hist√≥rico:",$),console.error("‚ùå Detalhes:",{message:$.message,code:$.code,details:$.details,hint:$.hint}),$;return console.log("‚úÖ Hist√≥rico atualizado com sucesso:",C),{data:C,error:null}}else{console.log("‚ûï Criando novo hist√≥rico...");const{data:C,error:$}=await z.from("colaboradores_historico").insert([{colaborador_id:v,data_registro:m,origem:d,...p}]).select();if($)throw console.error("‚ùå Erro ao criar hist√≥rico:",$),console.error("‚ùå Detalhes:",{message:$.message,code:$.code,details:$.details,hint:$.hint}),$;return console.log("‚úÖ Hist√≥rico criado com sucesso:",C),{data:C,error:null}}}catch(u){return console.error("‚ùå Erro no salvarHistorico:",u),console.error("‚ùå Tipo do erro:",typeof u),console.error("‚ùå Erro completo:",JSON.stringify(u,null,2)),{data:null,error:u}}},buscarHistoricosPorData:async(v,m="principal")=>{try{if(!E())return{historicos:[],error:new Error("Cliente Supabase n√£o dispon√≠vel")};console.log(`üîç Buscando todos os hist√≥ricos para data: ${v}, origem: ${m}`);const{data:n,error:d}=await z.from("colaboradores_historico").select("*").eq("data_registro",v).eq("origem",m).order("nome",{ascending:!0});if(d)throw console.error("‚ùå Erro ao buscar hist√≥ricos:",d),d;return console.log(`‚úÖ ${n?.length||0} hist√≥ricos encontrados`),{historicos:n,error:null}}catch(n){return console.error("‚ùå Erro no buscarHistoricosPorData:",n),{historicos:null,error:n}}},buscarHistoricoPeriodo:async(v,m,n)=>{try{console.log(`üîç Buscando hist√≥rico - Per√≠odo: ${v} a ${m}${n?`, Colaborador: ${n}`:""}`);let d=z.from("colaboradores_historico").select("*").gte("data_registro",v).lte("data_registro",m);n&&(d=d.eq("colaborador_id",n));const{data:u,error:p}=await d.order("data_registro",{ascending:!1}).order("nome",{ascending:!0});if(p)throw console.error("‚ùå Erro ao buscar hist√≥rico do per√≠odo:",p),p;return console.log(`‚úÖ ${u?.length||0} hist√≥ricos encontrados no per√≠odo`),{historicos:u,error:null}}catch(d){return console.error("‚ùå Erro no buscarHistoricoPeriodo:",d),{historicos:null,error:d}}},deletarHistorico:async(v,m)=>{try{console.log(`üóëÔ∏è Deletando hist√≥rico - Colaborador: ${v}, Data: ${m}`);const{error:n}=await z.from("colaboradores_historico").delete().eq("colaborador_id",v).eq("data_registro",m);if(n)throw console.error("‚ùå Erro ao deletar hist√≥rico:",n),n;return console.log("‚úÖ Hist√≥rico deletado com sucesso"),{success:!0,error:null}}catch(n){return console.error("‚ùå Erro no deletarHistorico:",n),{success:!1,error:n}}},mesclarColaboradoresComHistorico:(v,m)=>!m||m.length===0?v.map(n=>({...n,ent1:null,sai1:null,ent2:null,sai2:null,ent3:null,sai3:null,ent4:null,sai4:null,ent5:null,sai5:null})):v.map(n=>{const d=m.find(u=>u.colaborador_id===n.id);return d?{...n,ent1:d.ent1,sai1:d.sai1,ent2:d.ent2,sai2:d.sai2,ent3:d.ent3,sai3:d.sai3,ent4:d.ent4,sai4:d.sai4,ent5:d.ent5,sai5:d.sai5}:{...n,ent1:null,sai1:null,ent2:null,sai2:null,ent3:null,sai3:null,ent4:null,sai4:null,ent5:null,sai5:null}})}},ht=()=>{const P=ve(),z=S(!1),E=S(null);return{loading:z,error:E,buscarVisitantes:async()=>{z.value=!0,E.value=null;try{const{data:q,error:x}=await P.from("visitantes").select("*").order("nome",{ascending:!0});if(x)throw console.error("‚ùå Erro ao buscar visitantes:",x),x;return q||[]}catch(q){return E.value=q?.message||"Erro ao buscar visitantes",console.error("‚ùå Erro:",q),[]}finally{z.value=!1}},criarVisitante:async q=>{z.value=!0,E.value=null;try{const{data:x,error:v}=await P.from("visitantes").insert([q]).select().single();if(v)throw console.error("‚ùå Erro ao criar visitante:",v),v;return console.log("‚úÖ Visitante criado:",x),x}catch(x){throw E.value=x?.message||"Erro ao criar visitante",console.error("‚ùå Erro:",x),x}finally{z.value=!1}},atualizarVisitante:async(q,x)=>{z.value=!0,E.value=null;try{const{data:v,error:m}=await P.from("visitantes").update(x).eq("id",q).select().single();if(m)throw console.error("‚ùå Erro ao atualizar visitante:",m),m;return console.log("‚úÖ Visitante atualizado:",v),v}catch(v){throw E.value=v?.message||"Erro ao atualizar visitante",console.error("‚ùå Erro:",v),v}finally{z.value=!1}},deletarVisitante:async q=>{z.value=!0,E.value=null;try{const{error:x}=await P.from("visitantes").delete().eq("id",q);if(x)throw console.error("‚ùå Erro ao deletar visitante:",x),x;return console.log("‚úÖ Visitante deletado"),!0}catch(x){throw E.value=x?.message||"Erro ao deletar visitante",console.error("‚ùå Erro:",x),x}finally{z.value=!1}}}},wt={class:"bg-gradient-to-r from-primary-500 to-primary-600 text-white py-4"},_t={class:"container mx-auto px-4"},kt={class:"flex justify-between items-center"},Et={class:"text-right"},bt={class:"text-lg font-medium"},St={class:"text-primary-100 text-sm"},Ct={class:"container mx-auto px-4 mt-6"},$t={class:"flex space-x-2 border-b border-neutral-200"},Dt={class:"container mx-auto px-4 py-8"},zt={key:1,class:"bg-danger-50 border border-danger-200 rounded-xl p-6 mb-6"},Tt={class:"flex items-center space-x-3"},Lt={class:"text-danger-600"},Ft={key:2,class:"bg-white rounded-2xl shadow-medium border border-neutral-100 overflow-hidden"},Vt={class:"px-6 py-4 border-b border-neutral-200 bg-neutral-50"},Bt={class:"flex justify-between items-center"},Ht={class:"text-sm text-secondary-600 mt-1"},Mt={key:0},Pt={class:"flex space-x-3"},qt={class:"px-6 py-4 border-b border-neutral-200 bg-white"},jt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Kt={class:"relative"},Nt={class:"relative"},At={key:0,class:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},Ut={class:"flex items-center text-sm text-blue-800"},Ot={key:0,class:"ml-2 px-2 py-1 bg-blue-100 rounded text-xs"},It={key:1,class:"ml-2 px-2 py-1 bg-blue-100 rounded text-xs"},Rt={class:"overflow-x-auto"},Wt={class:"min-w-max"},Gt={class:"w-full divide-y divide-neutral-200"},Zt={class:"bg-neutral-50"},Jt={key:0,class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"},Qt={key:1,class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"},Xt={key:2,class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"},Yt={class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"},ea={key:3,class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"},ta={key:4,class:"px-6 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"},aa={class:"bg-white divide-y divide-neutral-200"},sa={key:0},ra={colspan:"14",class:"px-6 py-12 text-center"},na={class:"flex flex-col items-center"},oa={key:1},ia={key:0,class:"px-6 py-4 whitespace-nowrap"},la={class:"flex items-center"},ua={class:"flex-shrink-0 h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center"},da={class:"text-xs font-medium text-primary-700"},ca={key:1,class:"px-6 py-4 whitespace-nowrap"},pa={class:"flex items-center gap-2"},va=["data-campo-cadastral","onBlur","onKeydown"],ma={key:1,class:"flex-1 text-sm"},xa=["onClick"],fa={class:"px-6 py-4 whitespace-nowrap"},ya={key:0,class:"flex items-center gap-2"},ga=["data-campo-cadastral","onBlur","onKeydown"],ha={key:1,class:"flex-1 text-sm font-medium text-secondary-900"},wa=["onClick"],_a={key:1,class:"text-sm font-medium text-secondary-900"},ka={key:2,class:"px-6 py-4 whitespace-nowrap"},Ea={key:0,class:"flex items-center gap-2"},ba=["data-campo-cadastral","onBlur","onKeydown"],Sa={key:1,class:"flex-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800"},Ca=["onClick"],$a={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800"},Da={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500"},za={key:0,class:"flex items-center gap-2"},Ta=["data-campo-cadastral","onBlur","onKeydown"],La={key:1,class:"flex-1"},Fa=["onClick"],Va={key:1},Ba={key:3,class:"px-6 py-4 whitespace-nowrap"},Ha={class:"flex items-center gap-2"},Ma=["data-campo-cadastral","onBlur","onKeydown"],Pa={key:1,class:"flex-1 text-sm"},qa=["onClick"],ja={key:4,class:"px-6 py-4 whitespace-nowrap text-center"},Ka=["onUpdate:modelValue","onChange"],Na={class:"px-3 py-4 whitespace-nowrap text-center"},Aa={key:0},Ua={class:"relative"},Oa=["data-celula","disabled","onBlur","onKeydown"],Ia={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75"},Ra=["onDblclick","title"],Wa={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-success-100 text-success-700 text-xs"},Ga={key:1,class:"text-xs text-neutral-300"},Za={key:2},Ja={class:"px-3 py-4 whitespace-nowrap text-center"},Qa={key:0},Xa=["data-celula","onBlur","onKeydown"],Ya=["onDblclick","title"],es={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-danger-100 text-danger-700 text-xs"},ts={key:1,class:"text-xs text-neutral-300"},as={key:2},ss={class:"px-3 py-4 whitespace-nowrap text-center"},rs={key:0},ns=["data-celula","onBlur","onKeydown"],os=["onDblclick","title"],is={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-success-100 text-success-700 text-xs"},ls={key:1,class:"text-xs text-neutral-300"},us={key:2},ds={class:"px-3 py-4 whitespace-nowrap text-center"},cs={key:0},ps=["data-celula","onBlur","onKeydown"],vs=["onDblclick","title"],ms={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-danger-100 text-danger-700 text-xs"},xs={key:1,class:"text-xs text-neutral-300"},fs={key:2},ys={class:"px-3 py-4 whitespace-nowrap text-center"},gs={key:0},hs=["data-celula","onBlur","onKeydown"],ws=["onDblclick","title"],_s={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-success-100 text-success-700 text-xs"},ks={key:1,class:"text-xs text-neutral-300"},Es={key:2},bs={class:"px-3 py-4 whitespace-nowrap text-center"},Ss={key:0},Cs=["data-celula","onBlur","onKeydown"],$s=["onDblclick","title"],Ds={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-danger-100 text-danger-700 text-xs"},zs={key:1,class:"text-xs text-neutral-300"},Ts={key:2},Ls={class:"px-3 py-4 whitespace-nowrap text-center"},Fs={key:0},Vs=["data-celula","onBlur","onKeydown"],Bs=["onDblclick","title"],Hs={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-success-100 text-success-700 text-xs"},Ms={key:1,class:"text-xs text-neutral-300"},Ps={key:2},qs={class:"px-3 py-4 whitespace-nowrap text-center"},js={key:0},Ks=["data-celula","onBlur","onKeydown"],Ns=["onDblclick","title"],As={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-danger-100 text-danger-700 text-xs"},Us={key:1,class:"text-xs text-neutral-300"},Os={key:2},Is={class:"px-3 py-4 whitespace-nowrap text-center"},Rs={key:0},Ws=["data-celula","onBlur","onKeydown"],Gs=["onDblclick","title"],Zs={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-success-100 text-success-700 text-xs"},Js={key:1,class:"text-xs text-neutral-300"},Qs={key:2},Xs={class:"px-3 py-4 whitespace-nowrap text-center"},Ys={key:0},er=["data-celula","onBlur","onKeydown"],tr=["onDblclick","title"],ar={key:0,class:"inline-flex items-center px-2 py-1 rounded-md bg-danger-100 text-danger-700 text-xs"},sr={key:1,class:"text-xs text-neutral-300"},rr={key:2},nr={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},or={key:0,class:"space-x-2"},ir={key:1,class:"flex space-x-2"},lr={key:0,class:"px-6 py-3 bg-neutral-50 border-t border-neutral-200"},ur={class:"text-sm text-secondary-600"},dr={key:0},cr={key:1},pr={key:0,class:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vr={key:1,class:"w-5 h-5 text-danger-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},mr={class:"text-lg font-semibold text-white"},xr={class:"px-6 py-4"},fr={class:"text-secondary-700"},yr={class:"px-6 py-4 bg-neutral-50 flex justify-end"},Ne=10,gr=10,Er={__name:"novaEntrada",setup(P){const{colaboradores:z,loading:E,buscarColaboradores:k,atualizarColaborador:h}=pt(),{colaboradoresSFL:ie,buscarColaboradoresSFL:le}=ft(),{transportadoras:q,buscarTransportadoras:x,atualizarTransportadora:v,criarTransportadora:m}=yt(),n=S("principal"),{buscarHistoricoPorData:d,salvarHistorico:u,buscarHistoricosPorData:p,mesclarColaboradoresComHistorico:C}=gt(),{criarVisitante:$,atualizarVisitante:N}=ht(),{success:W,error:te,warning:Ce}=rt(),O=S([]),ae=S([]),Ae=()=>{ae.value=Array.from({length:Ne},(s,e)=>({id:`temp-${e}`,nome:"",funcao:"",empresa:"",ent1:"",sai1:"",ent2:"",sai2:"",ent3:"",sai3:"",ent4:"",sai4:"",ent5:"",sai5:"",isTemp:!0}))},se=S([]),Ue=()=>{se.value=Array.from({length:gr},(s,e)=>({id:`temp-visitante-${e}`,rg:"",nome:"",empresa:"",autorizacao:"",informada_portaria:null,ent1:"",sai1:"",ent2:"",sai2:"",ent3:"",sai3:"",ent4:"",sai4:"",ent5:"",sai5:"",isTemp:!0}))},me=Se(()=>n.value==="principal"?z.value:n.value==="sfl"?ie.value:n.value==="transportadoras"?q.value:n.value==="visitantes"?se.value:[]),Oe=async()=>{n.value==="principal"?await k():n.value==="sfl"?await le():await x()},A=S(null),w=S({}),$e=S(!1),xe=S(null),F=S(""),I=S(!1),De=S(null),U=S(""),R=S(""),V=S(new Date().toISOString().split("T")[0]),fe=S(!1),ne=S(null),ze=S(!1),Te=S(!1),ke=S(!1),Ve=S(""),Be=S(""),Ee=S("success"),Ie=Se(()=>new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})),Re=Se(()=>new Date().toLocaleDateString("pt-BR",{weekday:"long"})),ce=Se(()=>{if(n.value==="transportadoras")return ae.value;if(n.value==="visitantes")return se.value;if(!O.value)return[];let s=O.value;if(R.value&&R.value.trim()){const e=R.value.toLowerCase().trim();s=s.filter(l=>l.nome?.toLowerCase().includes(e)||l.matricula?.toString().includes(e)||l.funcao?.toLowerCase().includes(e)||l.filial?.toLowerCase().includes(e))}return s}),We=s=>{A.value=s.id;const e={...s};for(let l=1;l<=5;l++){const c=`ent${l}`,t=`sai${l}`;e[c]&&(e[c]=be(e[c])),e[t]&&(e[t]=be(e[t]))}w.value=e},He=()=>{A.value=null,w.value={}},B=s=>n.value==="transportadoras"||n.value==="visitantes"?s.nome&&s.nome.trim()!==""&&s.empresa&&s.empresa.trim()!=="":!0,Q=(s,e,l)=>{if(n.value==="transportadoras"||n.value==="visitantes"){const a=(n.value==="transportadoras"?ae.value:se.value).find(f=>f.id===s);if(a&&!B(a)){Ce("Campos obrigat√≥rios","Preencha o Nome e a Empresa antes de registrar entradas/sa√≠das");return}}const c=`${s}-${e}`;xe.value=c,l?F.value=be(l):F.value="",Ke(()=>{const t=document.querySelector(`input[data-celula="${c}"]`);t&&(t.focus(),t.select())})},ye=(s,e)=>De.value===`${s}-${e}`,ge=(s,e,l)=>{const c=`${s}-${e}`;De.value=c,U.value=l||"",Ke(()=>{const t=document.querySelector(`input[data-campo-cadastral="${c}"]`);t&&(t.focus(),t.select())})},G=async(s,e)=>{if(!I.value)try{I.value=!0,e==="informada_portaria"||(s[e]=U.value),n.value==="transportadoras"?await Ge(s):n.value==="visitantes"&&await Ze(s),De.value=null,U.value=""}catch(l){console.error("‚ùå Erro ao salvar campo cadastral:",l)}finally{I.value=!1}},Ge=async s=>{if(!(String(s.id).startsWith("temp-")&&!s.nome&&!s.funcao&&!s.empresa))try{let e=s.id;if(String(s.id).startsWith("temp-")){console.log("‚ûï Criando nova transportadora (dados cadastrais)");const t={nome:s.nome||null,funcao:s.funcao||null,empresa:s.empresa||null},a=await m(t);console.log("‚úÖ Transportadora criada:",a),e=a.id;const f=ae.value.findIndex(g=>String(g.id).startsWith("temp-"));f!==-1&&(ae.value[f]={...a,...s,id:a.id,isTemp:!1})}else console.log("üìù Atualizando dados cadastrais da transportadora"),await v(s.id,{nome:s.nome||null,funcao:s.funcao||null,empresa:s.empresa||null}),console.log("‚úÖ Dados cadastrais atualizados no cadastro");console.log("üíæ Salvando tamb√©m no hist√≥rico da data atual");const{historico:l}=await d(e,V.value,"transportadoras"),c={nome:s.nome||null,funcao:s.funcao||null,filial:s.empresa||null,ent1:l?.ent1||s.ent1||null,sai1:l?.sai1||s.sai1||null,ent2:l?.ent2||s.ent2||null,sai2:l?.sai2||s.sai2||null,ent3:l?.ent3||s.ent3||null,sai3:l?.sai3||s.sai3||null,ent4:l?.ent4||s.ent4||null,sai4:l?.sai4||s.sai4||null,ent5:l?.ent5||s.ent5||null,sai5:l?.sai5||s.sai5||null};await u(e,V.value,c,"transportadoras"),console.log("‚úÖ Hist√≥rico atualizado")}catch(e){console.error("‚ùå Erro ao salvar dados cadastrais:",e)}},Ze=async s=>{if(!(String(s.id).startsWith("temp-visitante-")&&!s.nome&&!s.empresa&&!s.rg))try{let e=s.id;if(String(s.id).startsWith("temp-visitante-")){console.log("‚ûï Criando novo visitante (dados cadastrais)");const t={rg:s.rg||null,nome:s.nome||null,empresa:s.empresa||null,autorizacao:s.autorizacao||null,informada_portaria:s.informada_portaria},a=await $(t);console.log("‚úÖ Visitante criado:",a),e=a.id;const f=se.value.findIndex(g=>String(g.id).startsWith("temp-visitante-"));f!==-1&&(se.value[f]={...a,...s,id:a.id,isTemp:!1})}else console.log("üìù Atualizando dados cadastrais do visitante"),await N(s.id,{rg:s.rg||null,nome:s.nome||null,empresa:s.empresa||null,autorizacao:s.autorizacao||null,informada_portaria:s.informada_portaria}),console.log("‚úÖ Dados cadastrais atualizados no cadastro");console.log("üíæ Salvando tamb√©m no hist√≥rico da data atual");const{historico:l}=await d(e,V.value,"visitantes"),c={rg:s.rg||null,nome:s.nome||null,filial:s.empresa||null,autorizacao:s.autorizacao||null,informada_portaria:s.informada_portaria,ent1:l?.ent1||s.ent1||null,sai1:l?.sai1||s.sai1||null,ent2:l?.ent2||s.ent2||null,sai2:l?.sai2||s.sai2||null,ent3:l?.ent3||s.ent3||null,sai3:l?.sai3||s.sai3||null,ent4:l?.ent4||s.ent4||null,sai4:l?.sai4||s.sai4||null,ent5:l?.ent5||s.ent5||null,sai5:l?.sai5||s.sai5||null};await u(e,V.value,c,"visitantes"),console.log("‚úÖ Hist√≥rico atualizado")}catch(e){console.error("‚ùå Erro ao salvar dados cadastrais do visitante:",e)}},Z=async(s,e)=>{if(console.log("üîß salvarEdicaoCelula CHAMADA:",{colaboradorId:s,campo:e,salvandoCelula:I.value}),I.value){console.log("‚è∏Ô∏è Salvamento j√° em andamento, ignorando...");return}try{I.value=!0;const l=F.value;console.log(`üíæ Salvando ${e} para colaborador ${s}: ${l}`);const c=n.value==="transportadoras"?ae.value.find(T=>T.id===s):n.value==="visitantes"?se.value.find(T=>T.id===s):O.value.find(T=>T.id===s);if(console.log("üë§ Colaborador encontrado:",c?"SIM":"N√ÉO"),!c)throw new Error("Colaborador n√£o encontrado");if(l&&l.trim()){const[T,y]=l.split(":").map(Number);if(isNaN(T)||isNaN(y)||T<0||T>23||y<0||y>59){te("Erro de valida√ß√£o","Hor√°rio inv√°lido. Use o formato HH:MM (00:00 - 23:59)"),xe.value=null,F.value="",I.value=!1;return}if(e.startsWith("sai")){const ue=`ent${e.replace("sai","")}`,pe=c[ue];if(pe){const J=be(pe);if(J&&l<J){te("Hor√°rio inv√°lido",`A sa√≠da n√£o pode ser antes da entrada (${J})`),xe.value=null,F.value="",I.value=!1;return}}}}const t={};if(l&&l.trim()){const[T,y]=l.split(":");console.log(`üïê Convertendo ${e}: ${l} (${T}:${y})`);const K=`${V.value}T${String(T).padStart(2,"0")}:${String(y).padStart(2,"0")}:00.000Z`;console.log(`üìÖ Timestamp ISO criado: ${K}`),t[e]=K}else t[e]=null;if(n.value==="transportadoras"){if(console.log("üöö Salvando transportadora..."),String(s).startsWith("temp-")){console.log("‚ûï Criando nova transportadora no cadastro");const T={nome:c.nome||null,funcao:c.funcao||null,empresa:c.empresa||null},y=await m(T);console.log("‚úÖ Transportadora criada:",y),s=y.id,c.id=y.id;const K=ae.value.findIndex(ue=>String(ue.id).startsWith("temp-"));K!==-1&&(ae.value[K]={...y,...c,id:y.id,isTemp:!1})}console.log("üíæ Salvando no hist√≥rico da transportadora")}else if(n.value==="visitantes"){if(console.log("üë• Salvando visitante..."),String(s).startsWith("temp-visitante-")){console.log("‚ûï Criando novo visitante no cadastro");const T={rg:c.rg||null,nome:c.nome||null,empresa:c.empresa||null,autorizacao:c.autorizacao||null,informada_portaria:c.informada_portaria},y=await $(T);console.log("‚úÖ Visitante criado:",y),s=y.id,c.id=y.id;const K=se.value.findIndex(ue=>String(ue.id).startsWith("temp-visitante-"));K!==-1&&(se.value[K]={...y,...c,id:y.id,isTemp:!1})}console.log("üíæ Salvando no hist√≥rico do visitante")}console.log("üîç Buscando hist√≥rico para:",{colaboradorId:s,data:V.value,origem:n.value});const{historico:a}=await d(s,V.value,n.value);console.log("üìã Hist√≥rico encontrado:",a);const f=n.value==="transportadoras"?{nome:c.nome||a?.nome||null,funcao:c.funcao||a?.funcao||null,filial:c.empresa||a?.filial||null,ent1:a?.ent1||null,sai1:a?.sai1||null,ent2:a?.ent2||null,sai2:a?.sai2||null,ent3:a?.ent3||null,sai3:a?.sai3||null,ent4:a?.ent4||null,sai4:a?.sai4||null,ent5:a?.ent5||null,sai5:a?.sai5||null,[e]:t[e]}:n.value==="visitantes"?{rg:c.rg||a?.rg||null,nome:c.nome||a?.nome||null,filial:c.empresa||a?.filial||null,autorizacao:c.autorizacao||a?.autorizacao||null,informada_portaria:c.informada_portaria!==null?c.informada_portaria:a?.informada_portaria,ent1:a?.ent1||null,sai1:a?.sai1||null,ent2:a?.ent2||null,sai2:a?.sai2||null,ent3:a?.ent3||null,sai3:a?.sai3||null,ent4:a?.ent4||null,sai4:a?.sai4||null,ent5:a?.ent5||null,sai5:a?.sai5||null,[e]:t[e]}:{nome:c.nome,funcao:c.funcao,filial:c.filial,matricula:c.matricula,ent1:a?.ent1||null,sai1:a?.sai1||null,ent2:a?.ent2||null,sai2:a?.sai2||null,ent3:a?.ent3||null,sai3:a?.sai3||null,ent4:a?.ent4||null,sai4:a?.sai4||null,ent5:a?.ent5||null,sai5:a?.sai5||null,[e]:t[e]};console.log("üíæ Salvando no hist√≥rico para data:",V.value),console.log("üìù Dados:",f),console.log("üîß Campo:",e,"Valor:",t[e]),console.log("ÔøΩ Origem:",n.value),console.log("ÔøΩüöÄ Chamando salvarHistorico...");const g=await u(s,V.value,f,n.value);if(console.log("üì¶ Resultado do salvarHistorico:",g),g?.error){console.error("‚ùå Falha ao salvar:",g?.error);const T=typeof g?.error=="string"?g?.error:g?.error?.message||JSON.stringify(g?.error);throw new Error(T||"Erro ao salvar hist√≥rico")}console.log("‚úÖ Hist√≥rico salvo com sucesso!"),c[e]=t[e],Me(),t[e]&&W("Sucesso","Hor√°rio salvo com sucesso")}catch(l){console.error("‚ùå Erro ao salvar c√©lula:",l),l.message?.includes("colaboradores_historico")?te("Erro de banco de dados","Tabela de hist√≥rico n√£o encontrada. Execute o script database/create_historico_table.sql no Supabase."):l.message?.includes("origem")?te("Erro de banco de dados","Coluna 'origem' n√£o encontrada. Execute o script SQL para adicionar a coluna."):te("Erro ao salvar",l.message||"Erro desconhecido ao salvar hor√°rio")}finally{I.value=!1}},Me=()=>{xe.value=null,F.value=""},X=(s,e,l)=>{s.key==="Enter"?Z(e,l):s.key==="Escape"&&Me()},Y=(s,e)=>xe.value===`${s}-${e}`,Je=async s=>{try{$e.value=!0;const e={ent1:w.value.ent1||null,sai1:w.value.sai1||null,ent2:w.value.ent2||null,sai2:w.value.sai2||null,ent3:w.value.ent3||null,sai3:w.value.sai3||null,ent4:w.value.ent4||null,sai4:w.value.sai4||null,ent5:w.value.ent5||null,sai5:w.value.sai5||null};for(const[l,c]of Object.entries(e))if(c&&typeof c=="string"){const t=new Date,[a,f]=c.split(":");console.log(`üïê Convertendo ${l}: ${c} (${a}:${f})`);const g=parseInt(a)-3,T=new Date(t.getFullYear(),t.getMonth(),t.getDate(),g,parseInt(f),0);console.log(`üìÖ Hora original: ${a}:${f}`),console.log(`üìÖ Hora compensada: ${g}:${f}`),console.log(`üìÖ Data UTC: ${T.toString()}`),console.log(`üìÖ ISO String: ${T.toISOString()}`),e[l]=T.toISOString()}await h(s,e),He()}catch(e){console.error("Erro ao salvar colaborador:",e),alert("Erro ao salvar altera√ß√µes. Tente novamente.")}finally{$e.value=!1}},b=s=>{if(!s)return"";try{const e=new Date(s),l=e.getUTCHours().toString().padStart(2,"0"),c=e.getUTCMinutes().toString().padStart(2,"0");return`${l}:${c}`}catch{return"Hora inv√°lida"}},be=s=>{if(!s)return"";try{const e=new Date(s),l=e.getUTCHours().toString().padStart(2,"0"),c=e.getUTCMinutes().toString().padStart(2,"0");return`${l}:${c}`}catch{return""}},Qe=s=>s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"",Xe=()=>{const s=new Date;V.value=s.toISOString().split("T")[0]},Ye=()=>{const s=new Date;s.setDate(s.getDate()-1),V.value=s.toISOString().split("T")[0]},et=()=>{const s=new Date,e=s.getDay(),l=e===0?-6:1-e,c=new Date(s);c.setDate(s.getDate()+l),V.value=c.toISOString().split("T")[0]},he=(s,e,l="success")=>{Ve.value=s,Be.value=e,Ee.value=l,ke.value=!0},tt=async()=>{try{if(ze.value=!0,typeof window>"u")throw new Error("Exporta√ß√£o dispon√≠vel apenas no cliente");const{utils:s,writeFile:e}=await Pe(async()=>{const{utils:f,writeFile:g}=await import("./DiNCyRCs.js");return{utils:f,writeFile:g}},[],import.meta.url),l=ce.value.map(f=>({Matr√≠cula:f.matricula||"",Nome:f.nome||"",Fun√ß√£o:f.funcao||"",Filial:f.filial||"","Entrada 1":b(f.ent1),"Sa√≠da 1":b(f.sai1),"Entrada 2":b(f.ent2),"Sa√≠da 2":b(f.sai2),"Entrada 3":b(f.ent3),"Sa√≠da 3":b(f.sai3),"Entrada 4":b(f.ent4),"Sa√≠da 4":b(f.sai4),"Entrada 5":b(f.ent5),"Sa√≠da 5":b(f.sai5)})),c=s.json_to_sheet(l),t=s.book_new();s.book_append_sheet(t,c,"Colaboradores");const a=new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");e(t,`colaboradores_${a}.xlsx`),he("Exporta√ß√£o Conclu√≠da",`Arquivo Excel exportado com sucesso! (colaboradores_${a}.xlsx)`,"success")}catch(s){console.error("Erro ao exportar Excel:",s),he("Erro na Exporta√ß√£o",`Erro ao exportar arquivo Excel. ${s?.message||"Tente novamente."}`,"error")}finally{ze.value=!1}},at=async()=>{try{Te.value=!0;const{default:s}=await Pe(async()=>{const{default:y}=await import("./QqFjWtVv.js").then(K=>K.j);return{default:y}},__vite__mapDeps([0,1,2,3]),import.meta.url),e=new s({orientation:"landscape",unit:"mm",format:"a4"});e.setFontSize(18),e.text("Lista de Colaboradores",20,20);const l=new Date().toLocaleDateString("pt-BR");e.setFontSize(12),e.text(`Gerado em: ${l}`,20,30);let c=50;const t=6,a=[20,40,30,25,15,15,15,15,15,15,15,15,15,15];let f=10;e.setFontSize(10),e.setFont(void 0,"bold"),["Matr√≠cula","Nome","Fun√ß√£o","Filial","Ent1","Sai1","Ent2","Sai2","Ent3","Sai3","Ent4","Sai4","Ent5","Sai5"].forEach((y,K)=>{e.text(y,f,c),f+=a[K]}),c+=t,e.setFont(void 0,"normal"),e.setFontSize(8),ce.value.forEach(y=>{c>200&&(e.addPage(),c=20),f=10,[y.matricula||"",y.nome||"",y.funcao||"",y.filial||"",b(y.ent1),b(y.sai1),b(y.ent2),b(y.sai2),b(y.ent3),b(y.sai3),b(y.ent4),b(y.sai4),b(y.ent5),b(y.sai5)].forEach((ue,pe)=>{let J=String(ue||"");J.length>12&&pe>3&&(J=J.substring(0,10)+".."),J.length>15&&pe<=3&&(J=J.substring(0,13)+".."),e.text(J,f,c),f+=a[pe]}),c+=t});const T=l.replace(/\//g,"-");e.save(`colaboradores_${T}.pdf`),he("Exporta√ß√£o Conclu√≠da",`Arquivo PDF exportado com sucesso! (colaboradores_${T}.pdf)`,"success")}catch(s){console.error("Erro ao exportar PDF:",s),he("Erro na Exporta√ß√£o",`Erro ao exportar arquivo PDF: ${s.message}. Tente novamente.`,"error")}finally{Te.value=!1}},Le=async s=>{(!s||s.trim()==="")&&(console.warn("‚ö†Ô∏è Data inv√°lida ou vazia, usando data de hoje"),s=new Date().toISOString().split("T")[0],V.value=s),fe.value=!0;try{if(console.log(`üìÖ Carregando dados para data: ${s}`),console.log(`üìã Aba ativa: ${n.value}`),n.value==="transportadoras"){await x();const{historicos:c,error:t}=await p(s,"transportadoras");t&&console.error("Erro ao buscar hist√≥ricos transportadoras:",t),console.log(`‚úÖ ${c?.length||0} hist√≥ricos de transportadoras encontrados`);let a=[];c&&c.length>0&&(a=c.map(g=>({id:g.colaborador_id,nome:g.nome||"",funcao:g.funcao||"",empresa:g.filial||"",ent1:g.ent1||null,sai1:g.sai1||null,ent2:g.ent2||null,sai2:g.sai2||null,ent3:g.ent3||null,sai3:g.sai3||null,ent4:g.ent4||null,sai4:g.sai4||null,ent5:g.ent5||null,sai5:g.sai5||null,isTemp:!1})));const f=Math.max(0,Ne-a.length);ae.value=[...a.map(g=>({...g,isTemp:!1})),...Array.from({length:f},(g,T)=>({id:`temp-${T}`,nome:"",funcao:"",empresa:"",ent1:"",sai1:"",ent2:"",sai2:"",ent3:"",sai3:"",ent4:"",sai4:"",ent5:"",sai5:"",isTemp:!0}))],ne.value=null,fe.value=!1;return}if(await Oe(),!me.value||me.value.length===0){console.warn(`‚ö†Ô∏è Nenhum colaborador encontrado para a aba: ${n.value}`),O.value=[],ne.value=null,fe.value=!1;return}const{historicos:e,error:l}=await p(s,n.value);if(l)throw console.error("Erro ao buscar hist√≥ricos:",l),l;console.log(`‚úÖ ${e?.length||0} hist√≥ricos encontrados`),me.value&&me.value.length>0&&(O.value=C(me.value,e)),console.log(`‚úÖ Dados carregados para data: ${s}`),ne.value=null}catch(e){if(console.error("‚ùå Erro ao carregar dados:",e),e?.code==="42P01"||e?.message?.includes("does not exist")){console.warn("‚ö†Ô∏è Tabela colaboradores_historico n√£o existe"),ne.value=null;return}ne.value="Erro ao carregar dados da data selecionada",he("Erro ao Carregar","Erro ao carregar dados da data selecionada. Tente novamente.","error")}finally{fe.value=!1}},st=async()=>{let s=0;const e=50;for(;s<e;){try{const l=ve();if(l&&l.auth)return console.log("‚úÖ Cliente Supabase inicializado - pode carregar dados"),!0}catch{console.log(`‚è≥ Aguardando inicializa√ß√£o do Supabase... (${s+1}/${e})`)}await new Promise(l=>setTimeout(l,100)),s++}return console.error("‚ùå Timeout: Cliente Supabase n√£o foi inicializado"),!1};return ot(async()=>{try{if(!await st()){ne.value="Sistema n√£o est√° pronto. Recarregue a p√°gina.";return}Ae(),Ue(),await k(),await le(),await Le(V.value)}catch(s){console.error("Erro ao carregar colaboradores:",s)}}),qe(n,async s=>{console.log(`üîÑ Aba alterada para: ${s}`),await Le(V.value)}),qe(V,s=>{if(console.log(`üîÑ Data alterada para: ${s}`),!s||s.trim()===""){console.log("‚ö†Ô∏è Data vazia, resetando para hoje"),V.value=new Date().toISOString().split("T")[0];return}Le(s)}),nt({title:"Colaboradores - Sistema de Portaria",meta:[{name:"description",content:"Lista de colaboradores cadastrados no sistema de portaria"}]}),(s,e)=>{const l=je("SkeletonLoader"),c=je("BaseButton");return o(),i("div",null,[r("div",wt,[r("div",_t,[r("div",kt,[e[35]||(e[35]=r("div",null,[r("h1",{class:"text-xl font-semibold"},"Controle de entrada e sa√≠da")],-1)),r("div",Et,[r("div",bt,_(Ie.value),1),r("div",St,_(Re.value),1)])])])]),r("div",Ct,[r("div",$t,[r("button",{onClick:e[0]||(e[0]=t=>n.value="principal"),class:M(["px-6 py-3 font-semibold text-sm transition-all duration-200 border-b-2",n.value==="principal"?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"])}," üî• Incinerador ",2),r("button",{onClick:e[1]||(e[1]=t=>n.value="sfl"),class:M(["px-6 py-3 font-semibold text-sm transition-all duration-200 border-b-2",n.value==="sfl"?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"])}," üè¢ SFL ",2),r("button",{onClick:e[2]||(e[2]=t=>n.value="transportadoras"),class:M(["px-6 py-3 font-semibold text-sm transition-all duration-200 border-b-2",n.value==="transportadoras"?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"])}," üöö Transportadoras ",2),r("button",{onClick:e[3]||(e[3]=t=>n.value="visitantes"),class:M(["px-6 py-3 font-semibold text-sm transition-all duration-200 border-b-2",n.value==="visitantes"?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"])}," üë• Visitantes ",2)])]),r("div",Dt,[fe.value?(o(),it(l,{key:0,loading:!0,colunas:14,linhas:10})):ne.value?(o(),i("div",zt,[r("div",Tt,[re(we(xt),{class:"h-6 w-6 text-danger-600"}),r("div",null,[e[36]||(e[36]=r("h3",{class:"text-danger-800 font-semibold"}," Erro ao carregar dados ",-1)),r("p",Lt,_(ne.value),1)])])])):(o(),i("div",Ft,[r("div",Vt,[r("div",Bt,[r("div",null,[e[37]||(e[37]=r("h2",{class:"text-xl font-semibold text-secondary-800"}," Lista de Colaboradores ",-1)),r("p",Ht,[oe(" Total: "+_(O.value?.length||0)+" colaborador(es) ",1),R.value?.trim()?(o(),i("span",Mt," ‚Ä¢ Filtrados: "+_(ce.value.length),1)):H("",!0)])]),r("div",Pt,[re(c,{onClick:tt,variant:"outline",size:"sm",loading:ze.value},{default:de(()=>[...e[38]||(e[38]=[oe(" üìä Excel ",-1)])]),_:1},8,["loading"]),re(c,{onClick:at,variant:"outline",size:"sm",loading:Te.value},{default:de(()=>[...e[39]||(e[39]=[oe(" üìÑ PDF ",-1)])]),_:1},8,["loading"]),re(c,{onClick:we(k),variant:"primary",size:"sm",icon:we(vt),loading:we(E)},{default:de(()=>[...e[40]||(e[40]=[oe(" Atualizar ",-1)])]),_:1},8,["onClick","icon","loading"])])])]),r("div",qt,[r("div",jt,[r("div",null,[e[43]||(e[43]=r("label",{for:"pesquisa",class:"block text-sm font-medium text-secondary-700 mb-2"}," Pesquisar colaboradores ",-1)),r("div",Kt,[D(r("input",{id:"pesquisa","onUpdate:modelValue":e[4]||(e[4]=t=>R.value=t),type:"text",placeholder:"Digite o nome, matr√≠cula, fun√ß√£o ou filial...",class:"w-full px-4 py-2 pl-10 pr-4 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"},null,512),[[L,R.value]]),e[42]||(e[42]=r("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("svg",{class:"h-4 w-4 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),R.value?.trim()?(o(),i("button",{key:0,onClick:e[5]||(e[5]=t=>R.value=""),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[...e[41]||(e[41]=[r("svg",{class:"h-4 w-4 text-neutral-400 hover:text-neutral-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):H("",!0)])]),r("div",null,[e[45]||(e[45]=r("label",{for:"filtroData",class:"block text-sm font-medium text-secondary-700 mb-2"}," Filtrar por data ",-1)),r("div",Nt,[D(r("input",{id:"filtroData","onUpdate:modelValue":e[6]||(e[6]=t=>V.value=t),type:"date",class:"w-full px-4 py-2 pl-10 pr-4 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"},null,512),[[L,V.value]]),e[44]||(e[44]=r("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("svg",{class:"h-4 w-4 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),r("div",{class:"flex gap-2 mt-2"},[r("button",{onClick:Xe,class:"px-3 py-1 text-xs bg-primary-100 text-primary-700 rounded-md hover:bg-primary-200 transition-colors",title:"Ir para hoje"}," üìÖ Hoje "),r("button",{onClick:Ye,class:"px-3 py-1 text-xs bg-neutral-100 text-neutral-700 rounded-md hover:bg-neutral-200 transition-colors",title:"Ir para ontem"}," ‚¨ÖÔ∏è Ontem "),r("button",{onClick:et,class:"px-3 py-1 text-xs bg-success-100 text-success-700 rounded-md hover:bg-success-200 transition-colors"}," Esta Semana ")])])]),V.value||R.value?.trim()?(o(),i("div",At,[r("div",Ut,[e[46]||(e[46]=r("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[47]||(e[47]=r("span",null,"Filtros ativos:",-1)),V.value?(o(),i("span",Ot," üìÖ "+_(Qe(V.value)),1)):H("",!0),R.value?.trim()?(o(),i("span",It,' üîç "'+_(R.value?.trim())+'" ',1)):H("",!0)])])):H("",!0)]),r("div",Rt,[r("div",Wt,[r("table",Gt,[r("thead",Zt,[r("tr",null,[n.value!=="transportadoras"&&n.value!=="visitantes"?(o(),i("th",Jt," Matr√≠cula ")):H("",!0),n.value==="visitantes"?(o(),i("th",Qt," RG ")):H("",!0),e[48]||(e[48]=r("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Nome ",-1)),n.value!=="visitantes"?(o(),i("th",Xt," Fun√ß√£o ")):H("",!0),r("th",Yt,_(n.value==="transportadoras"||n.value==="visitantes"?"Empresa":"Filial"),1),n.value==="visitantes"?(o(),i("th",ea," Autoriza√ß√£o ")):H("",!0),n.value==="visitantes"?(o(),i("th",ta," Informada Portaria? ")):H("",!0),e[49]||(e[49]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Ent1 ",-1)),e[50]||(e[50]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Sai1 ",-1)),e[51]||(e[51]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Ent2 ",-1)),e[52]||(e[52]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Sai2 ",-1)),e[53]||(e[53]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Ent3 ",-1)),e[54]||(e[54]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Sai3 ",-1)),e[55]||(e[55]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Ent4 ",-1)),e[56]||(e[56]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Sai4 ",-1)),e[57]||(e[57]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Ent5 ",-1)),e[58]||(e[58]=r("th",{class:"px-3 py-3 text-center text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Sai5 ",-1)),e[59]||(e[59]=r("th",{class:"px-6 py-3 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider"}," A√ß√µes ",-1))])]),r("tbody",aa,[!O.value||O.value.length===0?(o(),i("tr",sa,[r("td",ra,[r("div",na,[re(we(mt),{class:"h-12 w-12 text-neutral-300 mb-4"}),e[60]||(e[60]=r("p",{class:"text-neutral-500 font-medium"}," Nenhum colaborador encontrado ",-1)),e[61]||(e[61]=r("p",{class:"text-sm text-neutral-400 mt-1"}," Os colaboradores cadastrados aparecer√£o aqui ",-1))])])])):ce.value.length===0?(o(),i("tr",oa,[...e[62]||(e[62]=[r("td",{colspan:"14",class:"px-6 py-12 text-center"},[r("div",{class:"flex flex-col items-center"},[r("svg",{class:"h-12 w-12 text-neutral-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),r("p",{class:"text-neutral-500 font-medium"}," Nenhum resultado encontrado "),r("p",{class:"text-sm text-neutral-400 mt-1"}," Tente pesquisar por outro termo ")])],-1)])])):(o(!0),i(lt,{key:2},ut(ce.value,t=>(o(),i("tr",{key:t.id,class:"hover:bg-neutral-50 transition-colors duration-150"},[n.value!=="transportadoras"&&n.value!=="visitantes"?(o(),i("td",ia,[r("div",la,[r("div",ua,[r("span",da,_(t.matricula||"‚Äî"),1)])])])):H("",!0),n.value==="visitantes"?(o(),i("td",ca,[r("div",pa,[ye(t.id,"rg")?D((o(),i("input",{key:0,"onUpdate:modelValue":e[7]||(e[7]=a=>U.value=a),"data-campo-cadastral":`${t.id}-rg`,type:"text",placeholder:"Digite o RG...",class:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>G(t,"rg"),onKeydown:_e(a=>G(t,"rg"),["tab"])},null,40,va)),[[L,U.value]]):(o(),i("span",ma,_(t.rg||"Clique no √≠cone para editar"),1)),r("button",{onClick:a=>ge(t.id,"rg",t.rg),class:"p-1 text-neutral-400 hover:text-primary-600 transition-colors",title:"Editar RG"},[...e[63]||(e[63]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,xa)])])):H("",!0),r("td",fa,[n.value==="transportadoras"||n.value==="visitantes"?(o(),i("div",ya,[ye(t.id,"nome")?D((o(),i("input",{key:0,"onUpdate:modelValue":e[8]||(e[8]=a=>U.value=a),"data-campo-cadastral":`${t.id}-nome`,type:"text",placeholder:"Digite o nome...",class:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>G(t,"nome"),onKeydown:_e(a=>G(t,"nome"),["tab"])},null,40,ga)),[[L,U.value]]):(o(),i("div",ha,_(t.nome||"Clique no √≠cone para editar"),1)),r("button",{onClick:a=>ge(t.id,"nome",t.nome),class:"p-1 text-neutral-400 hover:text-primary-600 transition-colors",title:"Editar nome"},[...e[64]||(e[64]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,wa)])):(o(),i("div",_a,_(t.nome||"N√£o informado"),1))]),n.value!=="visitantes"?(o(),i("td",ka,[n.value==="transportadoras"?(o(),i("div",Ea,[ye(t.id,"funcao")?D((o(),i("input",{key:0,"onUpdate:modelValue":e[9]||(e[9]=a=>U.value=a),"data-campo-cadastral":`${t.id}-funcao`,type:"text",placeholder:"Digite a fun√ß√£o...",class:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>G(t,"funcao"),onKeydown:_e(a=>G(t,"funcao"),["tab"])},null,40,ba)),[[L,U.value]]):(o(),i("span",Sa,_(t.funcao||"Clique no √≠cone para editar"),1)),r("button",{onClick:a=>ge(t.id,"funcao",t.funcao),class:"p-1 text-neutral-400 hover:text-primary-600 transition-colors",title:"Editar fun√ß√£o"},[...e[65]||(e[65]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ca)])):(o(),i("span",$a,_(t.funcao||"N√£o informado"),1))])):H("",!0),r("td",Da,[n.value==="transportadoras"||n.value==="visitantes"?(o(),i("div",za,[ye(t.id,"empresa")?D((o(),i("input",{key:0,"onUpdate:modelValue":e[10]||(e[10]=a=>U.value=a),"data-campo-cadastral":`${t.id}-empresa`,type:"text",placeholder:"Digite a empresa...",class:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>G(t,"empresa"),onKeydown:_e(a=>G(t,"empresa"),["tab"])},null,40,Ta)),[[L,U.value]]):(o(),i("span",La,_(t.empresa||"Clique no √≠cone para editar"),1)),r("button",{onClick:a=>ge(t.id,"empresa",t.empresa),class:"p-1 text-neutral-400 hover:text-primary-600 transition-colors",title:"Editar empresa"},[...e[66]||(e[66]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Fa)])):(o(),i("span",Va,_(t.filial||"N√£o informado"),1))]),n.value==="visitantes"?(o(),i("td",Ba,[r("div",Ha,[ye(t.id,"autorizacao")?D((o(),i("input",{key:0,"onUpdate:modelValue":e[11]||(e[11]=a=>U.value=a),"data-campo-cadastral":`${t.id}-autorizacao`,type:"text",placeholder:"Nome do autorizador...",class:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>G(t,"autorizacao"),onKeydown:_e(a=>G(t,"autorizacao"),["tab"])},null,40,Ma)),[[L,U.value]]):(o(),i("span",Pa,_(t.autorizacao||"Clique no √≠cone para editar"),1)),r("button",{onClick:a=>ge(t.id,"autorizacao",t.autorizacao),class:"p-1 text-neutral-400 hover:text-primary-600 transition-colors",title:"Editar autoriza√ß√£o"},[...e[67]||(e[67]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,qa)])])):H("",!0),n.value==="visitantes"?(o(),i("td",ja,[D(r("select",{"onUpdate:modelValue":a=>t.informada_portaria=a,onChange:a=>G(t,"informada_portaria"),class:"px-3 py-1.5 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...e[68]||(e[68]=[r("option",{value:null},"Selecionar...",-1),r("option",{value:!0},"Sim",-1),r("option",{value:!1},"N√£o",-1)])],40,Ka),[[ct,t.informada_portaria]])])):H("",!0),r("td",Na,[Y(t.id,"ent1")?(o(),i("div",Aa,[r("div",Ua,[D(r("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>F.value=a),"data-celula":`${t.id}-ent1`,type:"time",disabled:I.value,class:M(["text-xs border rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",I.value?"border-gray-300 bg-gray-50":"border-primary-300"]),onBlur:a=>Z(t.id,"ent1"),onKeydown:a=>X(a,t.id,"ent1")},null,42,Oa),[[L,F.value]]),I.value?(o(),i("div",Ia,[...e[69]||(e[69]=[r("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary-600"},null,-1)])])):H("",!0)])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"ent1",t.ent1),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.ent1?(o(),i("span",Wa,_(b(t.ent1)),1)):(o(),i("span",Ga,"--:--"))],42,Ra)):(o(),i("div",Za,[D(r("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>w.value.ent1=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.ent1]])]))]),r("td",Ja,[Y(t.id,"sai1")?(o(),i("div",Qa,[D(r("input",{"onUpdate:modelValue":e[14]||(e[14]=a=>F.value=a),"data-celula":`${t.id}-sai1`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"sai1"),onKeydown:a=>X(a,t.id,"sai1")},null,40,Xa),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"sai1",t.sai1),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.sai1?(o(),i("span",es,_(b(t.sai1)),1)):(o(),i("span",ts,"--:--"))],42,Ya)):(o(),i("div",as,[D(r("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>w.value.sai1=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.sai1]])]))]),r("td",ss,[Y(t.id,"ent2")?(o(),i("div",rs,[D(r("input",{"onUpdate:modelValue":e[16]||(e[16]=a=>F.value=a),"data-celula":`${t.id}-ent2`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"ent2"),onKeydown:a=>X(a,t.id,"ent2")},null,40,ns),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"ent2",t.ent2),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.ent2?(o(),i("span",is,_(b(t.ent2)),1)):(o(),i("span",ls,"--:--"))],42,os)):(o(),i("div",us,[D(r("input",{"onUpdate:modelValue":e[17]||(e[17]=a=>w.value.ent2=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.ent2]])]))]),r("td",ds,[Y(t.id,"sai2")?(o(),i("div",cs,[D(r("input",{"onUpdate:modelValue":e[18]||(e[18]=a=>F.value=a),"data-celula":`${t.id}-sai2`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"sai2"),onKeydown:a=>X(a,t.id,"sai2")},null,40,ps),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"sai2",t.sai2),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.sai2?(o(),i("span",ms,_(b(t.sai2)),1)):(o(),i("span",xs,"--:--"))],42,vs)):(o(),i("div",fs,[D(r("input",{"onUpdate:modelValue":e[19]||(e[19]=a=>w.value.sai2=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.sai2]])]))]),r("td",ys,[Y(t.id,"ent3")?(o(),i("div",gs,[D(r("input",{"onUpdate:modelValue":e[20]||(e[20]=a=>F.value=a),"data-celula":`${t.id}-ent3`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"ent3"),onKeydown:a=>X(a,t.id,"ent3")},null,40,hs),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"ent3",t.ent3),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.ent3?(o(),i("span",_s,_(b(t.ent3)),1)):(o(),i("span",ks,"--:--"))],42,ws)):(o(),i("div",Es,[D(r("input",{"onUpdate:modelValue":e[21]||(e[21]=a=>w.value.ent3=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.ent3]])]))]),r("td",bs,[Y(t.id,"sai3")?(o(),i("div",Ss,[D(r("input",{"onUpdate:modelValue":e[22]||(e[22]=a=>F.value=a),"data-celula":`${t.id}-sai3`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"sai3"),onKeydown:a=>X(a,t.id,"sai3")},null,40,Cs),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"sai3",t.sai3),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.sai3?(o(),i("span",Ds,_(b(t.sai3)),1)):(o(),i("span",zs,"--:--"))],42,$s)):(o(),i("div",Ts,[D(r("input",{"onUpdate:modelValue":e[23]||(e[23]=a=>w.value.sai3=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.sai3]])]))]),r("td",Ls,[Y(t.id,"ent4")?(o(),i("div",Fs,[D(r("input",{"onUpdate:modelValue":e[24]||(e[24]=a=>F.value=a),"data-celula":`${t.id}-ent4`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"ent4"),onKeydown:a=>X(a,t.id,"ent4")},null,40,Vs),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"ent4",t.ent4),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.ent4?(o(),i("span",Hs,_(b(t.ent4)),1)):(o(),i("span",Ms,"--:--"))],42,Bs)):(o(),i("div",Ps,[D(r("input",{"onUpdate:modelValue":e[25]||(e[25]=a=>w.value.ent4=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.ent4]])]))]),r("td",qs,[Y(t.id,"sai4")?(o(),i("div",js,[D(r("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>F.value=a),"data-celula":`${t.id}-sai4`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"sai4"),onKeydown:a=>X(a,t.id,"sai4")},null,40,Ks),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"sai4",t.sai4),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.sai4?(o(),i("span",As,_(b(t.sai4)),1)):(o(),i("span",Us,"--:--"))],42,Ns)):(o(),i("div",Os,[D(r("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>w.value.sai4=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.sai4]])]))]),r("td",Is,[Y(t.id,"ent5")?(o(),i("div",Rs,[D(r("input",{"onUpdate:modelValue":e[28]||(e[28]=a=>F.value=a),"data-celula":`${t.id}-ent5`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"ent5"),onKeydown:a=>X(a,t.id,"ent5")},null,40,Ws),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"ent5",t.ent5),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.ent5?(o(),i("span",Zs,_(b(t.ent5)),1)):(o(),i("span",Js,"--:--"))],42,Gs)):(o(),i("div",Qs,[D(r("input",{"onUpdate:modelValue":e[29]||(e[29]=a=>w.value.ent5=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.ent5]])]))]),r("td",Xs,[Y(t.id,"sai5")?(o(),i("div",Ys,[D(r("input",{"onUpdate:modelValue":e[30]||(e[30]=a=>F.value=a),"data-celula":`${t.id}-sai5`,type:"time",class:"text-xs border border-primary-300 rounded px-2 py-1 w-20 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onBlur:a=>Z(t.id,"sai5"),onKeydown:a=>X(a,t.id,"sai5")},null,40,er),[[L,F.value]])])):A.value!==t.id?(o(),i("div",{key:1,onDblclick:a=>Q(t.id,"sai5",t.sai5),class:M(["rounded px-2 py-1 transition-colors",n.value==="transportadoras"&&!B(t)?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"]),title:n.value==="transportadoras"&&!B(t)?"Preencha Nome e Empresa primeiro":"Duplo clique para editar"},[t.sai5?(o(),i("span",ar,_(b(t.sai5)),1)):(o(),i("span",sr,"--:--"))],42,tr)):(o(),i("div",rr,[D(r("input",{"onUpdate:modelValue":e[31]||(e[31]=a=>w.value.sai5=a),type:"time",class:"text-xs border border-neutral-300 rounded px-2 py-1 w-20"},null,512),[[L,w.value.sai5]])]))]),r("td",nr,[A.value!==t.id?(o(),i("div",or,[re(c,{onClick:a=>We(t),variant:"secondary",size:"sm",class:"text-xs"},{default:de(()=>[...e[70]||(e[70]=[oe(" Editar ",-1)])]),_:1},8,["onClick"])])):(o(),i("div",ir,[re(c,{onClick:a=>Je(t.id),variant:"primary",size:"sm",loading:$e.value,class:"text-xs"},{default:de(()=>[...e[71]||(e[71]=[oe(" Salvar ",-1)])]),_:1},8,["onClick","loading"]),re(c,{onClick:He,variant:"danger",size:"sm",class:"text-xs"},{default:de(()=>[...e[72]||(e[72]=[oe(" Cancelar ",-1)])]),_:1})]))])]))),128))])])])]),O.value&&O.value.length>0?(o(),i("div",lr,[r("p",ur,[R.value?.trim()?(o(),i("span",dr," Exibindo "+_(ce.value.length)+" de "+_(O.value.length)+" colaborador(es) ",1)):(o(),i("span",cr," Exibindo "+_(O.value.length)+" colaborador(es) ",1))])])):H("",!0)]))]),ke.value?(o(),i("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[34]||(e[34]=t=>ke.value=!1)},[r("div",{class:"bg-white rounded-2xl shadow-xl max-w-md w-full mx-4 overflow-hidden",onClick:e[33]||(e[33]=dt(()=>{},["stop"]))},[r("div",{class:M(["px-6 py-4 flex items-center",Ee.value==="success"?"bg-gradient-to-r from-success-500 to-success-600":"bg-gradient-to-r from-danger-500 to-danger-600"])},[r("div",{class:M(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-3",Ee.value==="success"?"bg-success-100":"bg-danger-100"])},[Ee.value==="success"?(o(),i("svg",pr,[...e[73]||(e[73]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(o(),i("svg",vr,[...e[74]||(e[74]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])]))],2),r("h3",mr,_(Ve.value),1)],2),r("div",xr,[r("p",fr,_(Be.value),1)]),r("div",yr,[re(c,{onClick:e[32]||(e[32]=t=>ke.value=!1),variant:"primary",size:"sm"},{default:de(()=>[...e[75]||(e[75]=[oe(" OK ",-1)])]),_:1})])])])):H("",!0)])}}};export{Er as default};
