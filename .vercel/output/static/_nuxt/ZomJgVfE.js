import{g as r,h as i,i as d,n as c}from"./CQA7Wwdt.js";import"./BD3EHYnG.js";const m=r(async(e,l)=>{let o,a;if(console.log("ğŸ”‘ Middleware guest executado"),console.log("  ğŸ“ De:",l?.path||"inicial"),console.log("  ğŸ“ Para:",e.path),!["/login","/recuperar-senha","/redefinir-senha","/"].includes(e.path)){console.log("ğŸ”“ Rota protegida - ignorando guest middleware:",e.path);return}if(typeof window<"u"){const n=i("auth.ready",()=>!1),t=i("auth.user",()=>null);let s=0;for(;!n.value&&s<20;)[o,a]=d(()=>new Promise(u=>setTimeout(u,100))),await o,a(),s++;if(console.log("ğŸ‘¤ Estado do usuÃ¡rio no guest middleware:",t.value?"Logado":"NÃ£o logado"),t.value&&e.path!=="/")return console.log("âœ… UsuÃ¡rio jÃ¡ logado - redirecionando para home"),c("/");console.log("ğŸ”“ UsuÃ¡rio nÃ£o logado - permitindo acesso a:",e.path)}});export{m as default};
