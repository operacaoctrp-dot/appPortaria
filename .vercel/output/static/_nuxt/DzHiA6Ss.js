class c{config;constructor(){this.config={isDevelopment:!1,enableConsole:!0,logLevel:["log","info","warn","error","debug"]}}log(...e){this.config.isDevelopment&&this.config.enableConsole&&console.log(...e)}info(...e){this.config.isDevelopment&&this.config.enableConsole&&console.info(...e)}warn(...e){this.config.enableConsole&&console.warn(...e)}error(...e){this.config.enableConsole&&console.error(...e)}debug(...e){this.config.isDevelopment&&this.config.enableConsole&&console.debug(...e)}success(e,...n){this.config.isDevelopment&&this.config.enableConsole&&console.log(`✅ ${e}`,...n)}disable(){this.config.enableConsole=!1}enable(){this.config.enableConsole=!0}}const i=new c,l={"Invalid login credentials":"Email ou senha incorretos","Email not confirmed":"Por favor, confirme seu email antes de fazer login","User already registered":"Este email já está cadastrado","Password should be at least 6 characters":"A senha deve ter pelo menos 6 caracteres",'relation "colaboradores_historico" does not exist':"Tabela de histórico não configurada. Entre em contato com o suporte.","duplicate key value":"Este registro já existe no sistema","foreign key violation":"Não é possível excluir este registro pois está sendo usado","Failed to fetch":"Erro de conexão. Verifique sua internet e tente novamente","Network request failed":"Erro de conexão. Verifique sua internet e tente novamente","new row violates row-level security":"Você não tem permissão para realizar esta ação","permission denied":"Você não tem permissão para acessar este recurso"};function a(s){if(!s)return"unknown";const e=s.message?.toLowerCase()||"";return s.status===401||e.includes("auth")||e.includes("login")?"auth":s.status===403||e.includes("permission")||e.includes("security")?"permission":s.code?.startsWith("42")||e.includes("relation")||e.includes("table")?"database":s.status===0||e.includes("fetch")||e.includes("network")?"network":s.status===400||e.includes("invalid")||e.includes("validation")?"validation":"unknown"}function u(s){const e=s.message||s.error_description||"";for(const[o,t]of Object.entries(l))if(e.includes(o))return t;switch(a(s)){case"auth":return"Erro de autenticação. Verifique suas credenciais e tente novamente.";case"database":return"Erro ao acessar os dados. Tente novamente em alguns instantes.";case"validation":return"Dados inválidos. Verifique as informações e tente novamente.";case"network":return"Erro de conexão. Verifique sua internet e tente novamente.";case"permission":return"Você não tem permissão para realizar esta ação.";default:return"Ocorreu um erro inesperado. Tente novamente."}}function r(s,e){const n=a(s),o=s.message||s.error_description||"Erro desconhecido",t=u(s);return e?i.error(`[${e}] ${n.toUpperCase()} Error:`,o):i.error(`${n.toUpperCase()} Error:`,o),s.stack&&i.debug("Stack trace:",s.stack),{type:n,message:o,userMessage:t,originalError:s,statusCode:s.status||s.statusCode}}function d(s,e){return s?r(s,e||"Auth"):null}function f(s,e){return r(s,e||"Database")}function g(s){const e=s?.message?.toLowerCase()||"";return s?.code==="42P01"||e.includes("does not exist")}export{d as a,f as h,g as i,i as l};
